<!DOCTYPE html>
<html lang="ar" >
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AMINE OUAZZI</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #fff;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 30px 15px;
    direction: rtl;
    position: relative;
    background: transparent;
    user-select: none;
  }
  #bgVideo {
    position: fixed;
    right: 0;
    bottom: 0;
    min-width: 100%;
    min-height: 100%;
    z-index: -1;
    object-fit: cover;
    filter: brightness(0.6);
  }
  header {
    text-align: center;
    margin-bottom: 30px;
    text-shadow: 0 0 10px #000;
  }
  .contacts {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 40px;
  }
  .contact-link {
    text-decoration: none;
    color: white;
    text-align: center;
    width: 100px;
    font-size: 14px;
    transition: transform 0.3s ease;
  }
  .contact-link:hover {
    transform: scale(1.1);
  }
  .contact-link img {
    width: 48px;
    height: 48px;
    margin-bottom: 8px;
    filter: drop-shadow(0 0 3px black);
  }
  .quote {
    max-width: 600px;
    font-style: italic;
    font-size: 20px;
    text-align: center;
    text-shadow: 0 0 10px #000;
    min-height: 60px;
    margin-bottom: 30px;
  }
  #playBtn, #contactBtn {
    position: fixed;
    bottom: 20px;
    background: rgba(0,0,0,0.6);
    border: none;
    color: white;
    padding: 12px 20px;
    font-size: 16px;
    border-radius: 30px;
    cursor: pointer;
    box-shadow: 0 0 10px #000;
    z-index: 1000;
    user-select: none;
  }
  #playBtn {
    right: 20px;
  }
  #contactBtn {
    right: 160px; 
  }
  #contactForm {
    position: fixed;
    bottom: 80px; 
    right: 20px;
    background: rgba(20,20,20,0.85);
    padding: 20px;
    border-radius: 10px;
    width: 300px;
    display: none;
    flex-direction: column;
    gap: 10px;
    z-index: 1000;
    box-shadow: 0 0 15px rgba(0,0,0,0.5);
  }
  #contactForm textarea {
    resize: none;
    width: calc(100% - 20px);
    height: 100px;
    border-radius: 8px;
    border: 1px solid #444;
    padding: 10px;
    font-size: 16px;
    font-family: inherit;
    background-color: #333;
    color: #fff;
  }
  #contactForm button {
    background: #4CAF50;
    border: none;
    padding: 10px 15px;
    color: white;
    font-size: 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  #contactForm button:hover:not(:disabled) {
    background: #45a049;
  }
  #contactForm button:disabled {
    background: #555;
    cursor: not-allowed;
  }
  #statusMsg {
    font-size: 14px;
    min-height: 20px;
    text-align: center;
    margin-top: 5px;
  }
</style>
</head>
<body>

<video autoplay muted loop id="bgVideo" playsinline>
  <source src="https://v1.pinimg.com/videos/iht/720p/19/26/4a/19264a464315513c06c2dc242649e340.mp4" type="video/mp4" />
  متصفحك لا يدعم عرض الفيديو
</video>

<header>
  <h1>مرحبا بكم في صفحتي الشخصية</h1>
  <p>تواصل معي عبر حساباتي الرسمية</p>
</header>

<div class="contacts">
  <a href="https://wa.me/212612345678" target="_blank" rel="noopener" class="contact-link" title="واتساب">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" />
    واتساب
  </a>
  <!-- أضف بقية روابط التواصل هنا كما في كودك الأصلي -->
  <a href="https://www.facebook.com/username" target="_blank" rel="noopener" class="contact-link" title="فايسبوك">
    <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_(2019).png" alt="Facebook" />
    فايسبوك
  </a>
  <a href="https://instagram.com/username" target="_blank" rel="noopener" class="contact-link" title="إنستغرام">
    <img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg" alt="Instagram" />
    إنستغرام
  </a>
  <a href="https://t.me/username" target="_blank" rel="noopener" class="contact-link" title="تلجرام">
    <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram" />
    تلجرام
  </a>
  <a href="https://youtube.com/channel/yourchannel" target="_blank" rel="noopener" class="contact-link" title="يوتيوب">
    <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png" alt="YouTube" />
    يوتيوب
  </a>
</div>

<div class="quote" id="quoteDisplay"></div>

<audio id="bgMusic" loop>
  <source src="Angel.mp3" type="audio/m4a" />
  متصفحك لا يدعم تشغيل الصوت
</audio>

<button id="playBtn">تشغيل الموسيقى</button>
<button id="contactBtn">تواصل خاص</button>

<div id="contactForm">
  <textarea id="messageInput" placeholder="اكتب رسالتك هنا..."></textarea>
  <button id="sendBtn" disabled>إرسال</button>
  <div id="statusMsg"></div>
</div>

<script>
  const quotes = [
    "العقل زينة، والهدوء جمال.", "التواصل هو سر النجاح في الحياة.",
    "لا شيء يدوم، لذا استمتع بكل لحظة.", "التحديات تصنع الأبطال.",
    "كن التغيير الذي تريد رؤيته في العالم.", "الإصرار والتفاني هما مفتاح النجاح.",
    "العطاء لا ينقص من المال بل يزيده.", "السعادة تبدأ بابتسامة صادقة.",
    "تعلم شيئًا جديدًا كل يوم لتصبح أفضل.", "القوة الحقيقية تأتي من الداخل."
  ];
  function displayRandomQuote() {
    const idx = Math.floor(Math.random() * quotes.length);
    document.getElementById('quoteDisplay').textContent = quotes[idx];
  }
  displayRandomQuote();

  const audio = document.getElementById('bgMusic');
  const playBtn = document.getElementById('playBtn');
  playBtn.addEventListener('click', () => {
    if (audio.paused) {
        audio.play();
        playBtn.textContent = 'إيقاف الموسيقى';
    } else {
        audio.pause();
        playBtn.textContent = 'تشغيل الموسيقى';
    }
  });

  const contactBtn = document.getElementById('contactBtn');
  const contactForm = document.getElementById('contactForm');
  const messageInput = document.getElementById('messageInput');
  const sendBtn = document.getElementById('sendBtn');
  const statusMsg = document.getElementById('statusMsg');

  contactBtn.addEventListener('click', () => {
    contactForm.style.display = contactForm.style.display === 'flex' ? 'none' : 'flex';
    if (contactForm.style.display === 'flex') {
      messageInput.focus();
    }
    statusMsg.textContent = '';
  });

  messageInput.addEventListener('input', () => {
    sendBtn.disabled = messageInput.value.trim() === '';
    if (messageInput.value.trim() !== '') {
        statusMsg.textContent = ''; 
    }
  });

  sendBtn.addEventListener('click', async () => {
    sendBtn.disabled = true;
    statusMsg.style.color = '#ffcc00'; 
    statusMsg.textContent = 'جاري الإرسال...';

    const message = messageInput.value.trim();

    if (!message) {
        statusMsg.style.color = 'red';
        statusMsg.textContent = 'الرجاء كتابة رسالة.';
        sendBtn.disabled = false;
        return;
    }

    try {
      // تأكد من أن هذا هو الرابط الصحيح لدالة Vercel الخاصة بك
      const response = await fetch('https://fatima-love.vercel.app/', { 
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          message: message // إرسال الرسالة مباشرة
        }),
      });

      const responseData = await response.json();

      if (response.ok && responseData.ok) {
        statusMsg.style.color = 'lightgreen';
        statusMsg.textContent = 'تم الإرسال بنجاح!';
        messageInput.value = '';
        setTimeout(() => { 
            if (contactForm.style.display === 'flex') {
                 statusMsg.textContent = '';
            }
        }, 3000);
      } else {
        throw new Error(responseData.error || response.statusText || 'فشل الإرسال من الخادم');
      }
    } catch (err) {
      console.error('Error details:', err);
      statusMsg.style.color = 'red';
      statusMsg.textContent = 'خطأ: ' + err.message;
    } finally {
        // أعد تفعيل زر الإرسال فقط إذا لم يتم إفراغ حقل الإدخال بنجاح
        if (messageInput.value.trim() !== '') {
            sendBtn.disabled = false;
        }
    }
  });

  window.addEventListener('contextmenu', e => e.preventDefault());
  window.addEventListener('keydown', function(e) {
    if (e.key === 'F12') e.preventDefault();
    if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.key === 'اي' || e.key === 'ج')) e.preventDefault();
    if (e.ctrlKey && (e.key === 'u' || e.key === 'ي')) e.preventDefault();
  });
</script>

</body>
</html>
